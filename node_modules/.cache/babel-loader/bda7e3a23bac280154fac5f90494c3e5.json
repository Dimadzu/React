{"ast":null,"code":"import _toConsumableArray from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\React\\\\React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import ReactDOM from'react-dom';import React from'react';import logo from\"./logo.svg\";import\"bootstrap/dist/css/bootstrap.min.css\";import'./App.css';//import {moviesData} from './moviesData';\nimport MovieItem from'./Movieitem';import{API_URL,API_KEY_3}from'./api.js';import MovieTabs from'./MovieTabs.js';import Pagination from'./Pagination.js';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.removeMovie=function(movie){var updateMovies=_this.state.movies.filter(function(item){return item.id!==movie.id;});_this.setState({movies:updateMovies});};_this.addmovieToWillWatch=function(movie){var updateMovieWillWatch=[].concat(_toConsumableArray(_this.state.movieWillWatch),[movie]);_this.setState({movieWillWatch:updateMovieWillWatch});};_this.removeMovieFromWillWatch=function(movie){var updateMovieWillWatch=_this.state.movieWillWatch.filter(function(item){return item.id!==movie.id;});_this.setState({movieWillWatch:updateMovieWillWatch});};_this.getMovies=function(){fetch(\"\".concat(API_URL,\"/discover/movie?api_key=\").concat(API_KEY_3,\"&sort_by=\").concat(_this.state.sort_by,\"&page=\").concat(_this.state.page,\"&page.maximum\")).then(function(response){return response.json();}).then(function(data){_this.setState({movies:data.results,totalPages:data.total_pages});});};_this.updateSortBy=function(value){_this.setState({sort_by:value});};_this.paginationPage=function(pagevalue){_this.setState({page:pagevalue});};_this.state={movies:[],movieWillWatch:[],sort_by:\"popularity.desc\",page:1,totalPages:\" \"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMovies();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.page!==this.state.page||prevState.sort_by!==this.state.sort_by){this.getMovies();}}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.totalPages);return React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-9\"},React.createElement(\"div\",{className:\"row mb-4\"},React.createElement(\"div\",{className:\"col-12\"},React.createElement(MovieTabs,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy}))),React.createElement(\"div\",{className:\"row\"},this.state.movies.map(function(movie){return React.createElement(\"div\",{className:\"col-6\",key:movie.id},React.createElement(MovieItem,{movie:movie,removeMovie:_this2.removeMovie,addmovieToWillWatch:_this2.addmovieToWillWatch,removeMovieFromWillWatch:_this2.removeMovieFromWillWatch}));})),React.createElement(\"div\",{className:\"row mb-4\"},React.createElement(\"div\",{className:\"col-12\"},React.createElement(Pagination,{total_pages:this.state.totalPages,page:this.state.page,paginationPage:this.paginationPage})))),React.createElement(\"div\",{className:\"col-3\"},React.createElement(\"p\",null,\"Will watch: \",this.state.movieWillWatch.length))));}}]);return App;}(React.Component);;//function App() {\n//  return (\n//    <div className=\"App\">\n//     <h2>{moviesData[0].title}</h2>\n//    </div>\n//  );\n//}\nexport default App;","map":{"version":3,"sources":["C:/React/React/src/App.js"],"names":["ReactDOM","React","MovieItem","API_URL","API_KEY_3","MovieTabs","Pagination","App","removeMovie","movie","updateMovies","state","movies","filter","item","id","setState","addmovieToWillWatch","updateMovieWillWatch","movieWillWatch","removeMovieFromWillWatch","getMovies","fetch","sort_by","page","then","response","json","data","results","totalPages","total_pages","updateSortBy","value","paginationPage","pagevalue","prevProps","prevState","console","log","map","length","Component"],"mappings":"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","sourcesContent":["\r\nimport ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport logo from './logo.svg';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport './App.css';\r\n//import {moviesData} from './moviesData';\r\nimport MovieItem from './Movieitem';\r\nimport {API_URL, API_KEY_3} from './api.js';\r\nimport MovieTabs from './MovieTabs.js';\r\nimport Pagination from './Pagination.js';\r\n\r\n\r\n\r\n\r\nclass App extends React.Component{\r\n\t\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state={\r\n\t\t\tmovies: [],\r\n\t\t\tmovieWillWatch: [],\r\n\t\t\tsort_by: \"popularity.desc\",\r\n\t\t\tpage: 1,\r\n\t\t\ttotalPages: \" \"\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n\t\r\n\tremoveMovie=movie=>{\r\n\tconst updateMovies=this.state.movies.filter(function(item){\r\n\t\treturn item.id !== movie.id;\r\n\t});\r\n\tthis.setState({\r\n\t\tmovies: updateMovies\r\n\t});\r\n}\r\n\taddmovieToWillWatch=movie=>{\r\n\t\tconst updateMovieWillWatch=[...this.state.movieWillWatch,movie];\r\n\t\tthis.setState({\r\n\t\tmovieWillWatch: updateMovieWillWatch\r\n\t});\r\n\t}\r\n\t\r\n\t\t\r\n\t\tremoveMovieFromWillWatch=movie=>{\r\n\tconst updateMovieWillWatch=this.state.movieWillWatch.filter(function(item){\r\n\t\treturn item.id !== movie.id;\r\n\t});\r\n\tthis.setState({\r\n\t\tmovieWillWatch: updateMovieWillWatch\r\n\t});\r\n} \r\n\tcomponentDidMount() {\r\n     this.getMovies();\r\n \r\n  };\r\n\r\n componentDidUpdate(prevProps, prevState){\r\n\t  if((prevState.page!==this.state.page) || (prevState.sort_by!==this.state.sort_by)){\r\n\tthis.getMovies();\r\n\t  }\r\n\t  \r\n  }\r\n    getMovies=()=>{\r\n\t   fetch(\r\n    `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}&page.maximum`\r\n    )\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          movies: data.results,\r\n\t\t  totalPages: data.total_pages\t\r\n        });\r\n      });\t\r\n\t\t\r\n\t}\r\n\tupdateSortBy=value=>{\r\n\t\tthis.setState({\r\n\t\t\tsort_by: value\r\n\t\t});\r\n\t}\r\n\t\r\n\tpaginationPage=pagevalue=>{\r\n\t\tthis.setState({\r\n\t\t\tpage: pagevalue\r\n\t\t});\r\n\t}\r\n\t\r\n\trender(){\r\n\t\tconsole.log(this.state.totalPages);\r\n     return (\r\n    <div className=\"container\">\r\n\t\t<div className=\"row\"> \r\n\t\t <div className=\"col-9\">\r\n\t\t <div className=\"row mb-4\">\r\n\t\t <div className=\"col-12\">\r\n\t\t <MovieTabs sort_by={this.state.sort_by}\r\n\t\t updateSortBy={this.updateSortBy}\r\n\t\t />\r\n\t\t </div>\r\n\t\t </div>\t\r\n\t\t <div className=\"row\">\r\n\t\t {this.state.movies.map(movie=>{\r\n\t\t return(\r\n\t\t <div className=\"col-6\" key={movie.id}>\r\n\t\t <MovieItem \r\n\t\t  movie={movie}\r\n\t\t  removeMovie={this.removeMovie}\r\n\t\t addmovieToWillWatch={this.addmovieToWillWatch}\r\n\t\t removeMovieFromWillWatch={this.removeMovieFromWillWatch}/>\r\n\r\n\t\t </div> \r\n\t\t ) \r\n\t\t })}\r\n\t\t </div>\r\n\t\t  <div className=\"row mb-4\">\r\n\t\t <div className=\"col-12\">\r\n\t\t <Pagination\r\n\t\t total_pages={this.state.totalPages}\r\n\t\t page={this.state.page}\r\n\t\t paginationPage={this.paginationPage}/>\r\n\t\t </div>\r\n\t\t </div>\t\r\n\t      </div> \r\n      <div className=\"col-3\">\r\n\t\t  <p>Will watch: {this.state.movieWillWatch.length}</p>\r\n\t\t  </div>\r\n\t \t</div> \r\n    </div>\r\n\t\t );\r\n\t}\r\n};\r\n\r\n//function App() {\r\n//  return (\r\n//    <div className=\"App\">\r\n//     <h2>{moviesData[0].title}</h2>\r\n//    </div>\r\n//  );\r\n//}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}